/**/﻿_jsload&&_jsload('otherSearch', 'function gY(i,e){var T=document.createElement("script");T.onload=function(jV){T.parentNode.removeChild(T);e&&e(jV)};T.src=i;document.getElementsByTagName("head")[0].appendChild(T)}eP.extend(cR.prototype,{getCurrentPosition:function(jY,j1){var jZ=this;var T=false;j1=j1||{};jZ.config={timeout:j1.timeout||jZ.config.timeout,maximumAge:j1.maximumAge||jZ.config.maximumAge,enableHighAccuracy:j1.enableHighAccuracy||jZ.config.enableHighAccuracy,SDKLocation:j1.SDKLocation||jZ.config.SDKLocation};var e=setTimeout(function(){if(T){return}jZ.statusCode=BMAP_STATUS_TIMEOUT;i(null)},jZ.config.timeout+2000);var jW=function(j2){if(T||BMapGL===null){return}if(e){clearTimeout(e);e=null}jZ.geolocationInfo=j2;jY.apply(jZ,arguments);T=true};var i=function(j2){if(T){return}if(e){clearTimeout(e);e=null}jZ.geolocationInfo=j2;jY.apply(jZ,arguments);T=true};function j0(j2){if(eX.checkUsability()){var j3=new eX({timeout:jZ.config.timeout,maximumAge:jZ.config.maximumAge,enableHighAccuracy:jZ.config.enableHighAccuracy});j3.getCurrentPosition(function(j4){jW(j4)},function(j4){switch(j4.errorCode){case j4.ERR_PERMISSION_DENIED:jZ.statusCode=BMAP_STATUS_PERMISSION_DENIED;i(null);break;case j4.ERR_INSECURE_ORIGINS:jZ.statusCode=BMAP_STATUS_PERMISSION_DENIED;if(jZ.config.enableHighAccuracy){j2()}else{i(null)}break;case j4.ERR_POSITION_UNAVAILABLE:jZ.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;j2();break;case j4.ERR_TIMEOUT:jZ.statusCode=BMAP_STATUS_TIMEOUT;j2();break}});return}}function jX(j2){if(dS.checkUsability()){var j3=new dS({});j3.getCurrentPosition(function(j4){jW(j4)},function(j4){j2()});return}j2()}function jV(j2){var j3=new iz({SDKLocation:jZ.config.SDKLocation});j3.getCurrentPosition(function(j4){jW(j4)},function(){j2()})}jV(function(){j0(function(){jX(function(){jZ.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;i(null)})})})},getStatus:function(){if(this.geolocationInfo){this.statusCode=BMAP_STATUS_SUCCESS}return this.statusCode}});cR.prototype.getCurrentPosition=cR.prototype.getCurrentPosition;cR.prototype.getStatus=cR.prototype.getStatus;function eX(e){this.config={timeout:e.timeout||1000*5,maximumAge:e.maximumAge||0,enableHighAccuracy:e.enableHighAccuracy||false}}eX.checkUsability=function(){if(navigator.geolocation){return true}return false};eP.extend(eX.prototype,{getCurrentPosition:function(e,i){var jV=function(jX){if(/BIDUBrowser/i.test(navigator.userAgent)){var j0=new be();j0.getLocation(new cu(jX.coords["longitude"],jX.coords["latitude"]),function(j1){var j2=new hj();j2.accuracy=jX.coords["accuracy"]>1999?1999:jX.coords["accuracy"];j2.longitude=jX.coords["longitude"];j2.latitude=jX.coords["latitude"];j2.point=new cu(j2.longitude,j2.latitude);if(j1.addressComponents){if(j1.addressComponents["province"]){j2.address.province=j1.addressComponents["province"]}if(j1.addressComponents["city"]){j2.address.city=j1.addressComponents["city"]}if(j1.addressComponents["district"]){j2.address.district=j1.addressComponents["district"]}if(j1.addressComponents["street"]){j2.address.street=j1.addressComponents["street"]}if(j1.addressComponents["streetNumber"]){j2.address.street_number=j1.addressComponents["streetNumber"]}}e(j2)});return}var jZ=Math.floor(Math.random()*100000);var jY="_cbk"+jZ;window.baidu=window.baidu||{};window.baidu[jY]=function(j2){var j1={x:j2.x,y:j2.y};var j5=new cu(j1.x,j1.y);var j4=new hj();j4.accuracy=jX.coords["accuracy"]>1999?1999:jX.coords["accuracy"];j4.longitude=j5.lng;j4.latitude=j5.lat;j4.point=new cu(j5.lng,j5.lat);var j3=new be();j3.getLocation(j5,function(j6){var j7=j6.addressComponents;if(j7){if(j7.province){j4.address.province=j7.province}if(j7.city){j4.address.city=j7.city}if(j7.district){j4.address.district=j7.district}if(j7.street){j4.address.street=j7.street}if(j7.streetNumber){j4.address.street_number=j7.streetNumber}}e(j4)})};var jW=["qt=coordtrans","x="+jX.coords["longitude"],"y="+jX.coords["latitude"],"from=0","to=4","callback=baidu."+jY];gY(B.apiHost+"/?"+jW.join("&"))};var T=function(jW){var jX=new dl();if(jW.code===jW.PERMISSION_DENIED&&jW.message.indexOf("secure")===-1){jX.errorCode=jX.ERR_PERMISSION_DENIED;jX.errorMessage="用户拒绝定位请求"}if(jW.code===jW.POSITION_UNAVAILABLE){jX.errorCode=jX.ERR_POSITION_UNAVAILABLE;jX.errorMessage="定位不可用"}if(jW.message.indexOf("secure")>-1){jX.errorCode=jX.ERR_INSECURE_ORIGINS;jX.errorMessage="定位请求需要https环境"}if(jW.code===jW.TIMEOUT){jX.errorCode=jX.ERR_TIMEOUT;jX.errorMessage="定位超时"}i(jX)};navigator.geolocation.getCurrentPosition(jV,T,{enableHighAccuracy:this.config.enableHighAccuracy,timeout:this.config.timeout,maximumAge:this.config.maximumAge})}});function dS(e){this.config={extensions:1,coord:"bd09ll",coding:"utf-8",callback_type:"jsonp"}}dS.checkUsability=function(){return true};eP.extend(dS.prototype,{getCurrentPosition:function(T,jW){var jX=Math.floor(Math.random()*100000);var jV="_cbk"+jX;window[jV]=function(jY){if(jY.result){if(jY.result["error"]===161){if(jY.content&&jY.content["location"]){var jZ=new hj();jZ.accuracy=jY.content["radius"];jZ.longitude=jY.content["location"]["lng"];jZ.latitude=jY.content["location"]["lat"];jZ.point=new cu(jY.content["location"]["lng"],jY.content["location"]["lat"])}if(jY.content&&jY.content["address_component"]){if(jY.content["address_component"]["country"]){jZ.address.country=jY.content["address_component"]["country"]}if(jY.content["address_component"]["province"]){jZ.address.province=jY.content["address_component"]["province"]}if(jY.content["address_component"]["city"]){jZ.address.city=jY.content["address_component"]["city"]}if(jY.content["address_component"]["district"]){jZ.address.district=jY.content["address_component"]["district"]}if(jY.content["address_component"]["street"]){jZ.address.street=jY.content["address_component"]["street"]}if(jY.content["address_component"]["street_number"]){jZ.address.street_number=jY.content["address_component"]["street_number"]}}T(jZ);return}else{if(jY.result["error"]===0){if(jY.content&&jY.content["location"]){var jZ=new hj();jZ.longitude=jY.content["location"]["lng"];jZ.latitude=jY.content["location"]["lat"];jZ.point=new cu(jY.content["location"]["lng"],jY.content["location"]["lat"])}if(jY.content&&jY.content["address_component"]){if(jY.content["address_component"]["country"]){jZ.address.country=jY.content["address_component"]["country"]}if(jY.content["address_component"]["province"]){jZ.address.province=jY.content["address_component"]["province"]}if(jY.content["address_component"]["city"]){jZ.address.city=jY.content["address_component"]["city"]}if(jY.content["address_component"]["district"]){jZ.address.district=jY.content["address_component"]["district"]}if(jY.content["address_component"]["street"]){jZ.address.street=jY.content["address_component"]["street"]}if(jY.content["address_component"]["street_number"]){jZ.address.street_number=jY.content["address_component"]["street_number"]}}T(jZ);return}}}var j0=new dl();j0.errorCode=j0.ERR_POSITION_UNAVAILABLE;j0.errorMessage="请求IP地理定位信息失败";jW(j0)};var i="pc";if(bU()){i="mb"}var e={qterm:i,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,ak:eF,qt:js,};jE.request(function(jZ,jY){window[jV](jZ)},e)}});function iz(e){this.config={SDKLocation:e.SDKLocation||false}}eP.extend(iz.prototype,{getCurrentPosition:function(i,jV){var jW=Math.floor(Math.random()*100000);var T="_cbk"+jW;window.baidu=window.baidu||{};window.baidu[T]=function(jY){jY=JSON.parse(jY);if(jY&&jY.errorcode===1){jW=Math.floor(Math.random()*100000);T="_cbk"+jW;window.baidu=window.baidu||{};window.baidu[T]=function(j0){var jZ={x:j0.x,y:j0.y};var j3=new cu(jZ.x,jZ.y);var j2=new hj();j2.longitude=j3.lng;j2.latitude=j3.lat;j2.point=new cu(j3.lng,j3.lat);var j1=new be();j1.getLocation(j3,function(j4){var j5=j4.addressComponents;if(j5){if(j5.province){j2.address.province=j5.province}if(j5.city){j2.address.city=j5.city}if(j5.district){j2.address.district=j5.district}if(j5.street){j2.address.street=j5.street}if(j5.streetNumber){j2.address.street_number=j5.streetNumber}}i(j2)})};var jX=["qt=coordtrans","x="+jY.longitude,"y="+jY.latitude,"from=0","to=4","callback=baidu."+T];gY(B.apiHost+"/?"+jX.join("&"))}else{jV()}};if(this.config.SDKLocation&&window.BaiduLocAssistant&&window.BaiduLocAssistant.sendMessage){var e={action:"requestLoc",callback:"baidu."+T};window.BaiduLocAssistant.sendMessage(JSON.stringify(e))}else{jV()}}});function hj(){this.accuracy=null;this.altitude=null;this.altitudeAccuracy=null;this.heading=null;this.latitude=null;this.longitude=null;this.speed=null;this.timestamp=null;this.point=null;this.address={country:"",city:"",city_code:0,district:"",province:"",street:"",street_number:""}}function dl(e){this.errorType="geolocation";this.errorMessage=e;this.errorCode=1;this.ERR_PERMISSION_DENIED=1;this.ERR_POSITION_UNAVAILABLE=2;this.ERR_TIMEOUT=3;this.ERR_INSECURE_ORIGINS}eP.extend(be.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var jV=this._queryList[T];this[jV.method].apply(this,jV.arguments)}delete this._queryList},getPoint:function(e,jW,jV){var T=this;jV=jV||"北京市";var i=/^[ \\s]*$/;if(i.test(e)){return}jE.request(function(j7){if(j7&&j7.result&&j7.result["type"]==eW){var j9=j7.result;var j2=j7.content;var j6=null;var j8=null;if(j9){if(j9.error==0&&j2){var j4=j2.coord["x"];var j3=j2.coord["y"];var jY=j2.cn;var jZ=j2.sc;var j5=j2.wd;var j0=j2.prc;var j1=j2.fuzzy_score;var jX=j2.catalog;j6=new cu(j4,j3);j6=iU.convertMC2LL(j6);j8={city:jY,citycode:jZ,address:j5,precise:j0,confidence:j1,level:jX}}}jW&&jW(j6,j8)}},{qt:fH,wd:e,cn:jV})},getLocation:function(i,jZ,jW){if(!(i instanceof cu||i instanceof co)&&jZ){jZ(null);return}var jV=this;var i=iU.convertLL2MC(i);var e=i.lng;var jY=i.lat;var jW=jW||{};var T=jW.poiRadius||100;var jX=jW.numPois||10;jE.request(function(kg){var j3=null;if(kg&&kg.result&&kg.result["type"]==ib){var j6=kg.result;var kd=kg.content;var j5;var j7={};var j8=[];var ka;if(j6.error==0&&kd){var kh=kd.address_detail;var ke=kh.city;if(kh){j7.streetNumber=kh.street_number;j7.street=kh.street;j7.district=kh.district;j7.city=ke;j7.province=kh.province}ka=kd.point;var kc=new cu(ka.x,ka.y);kc=iU.convertMC2LL(kc);var j2=kd.surround_poi;if(j2&&j2.length){for(var kf=0,kb=j2.length;kf<kb;kf++){var j1={},j4=j2[kf];j1.title=j4.name;j1.uid=j4.uid;var j9=new cu(j4.point["x"],j4.point["y"]);j9=iU.convertMC2LL(j9);j1.point=j9;j1.city=ke;j1._poiType=j4.poiType;j1.type=BMAP_POI_TYPE_NORMAL;j1.address=j4.addr;j1.postcode=j4.zip||null;j1.phoneNumber=j4.tel||null;var j0=j1._poiType;if(j0.length!==0){j1.tags=j0.split(",")}j8.push(j1)}}j3={point:kc,address:kd.address,addressComponents:j7,surroundingPois:j8,business:kd.business}}}jZ&&jZ(j3)},{qt:dN,x:e,y:jY,dis_poi:T,poi_num:jX,latest_admin:"1"})}});eP.extend(fc.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var jV=this._queryList[T];this[jV.method].apply(this,jV.arguments)}delete this._queryList},get:function(jV,e){var jX={};jX.boundaries=[];if(jV==="中国"||jV==="全国"||jV==="中华人民共和国"){e&&e(jX);return}var jY=this;var T=["119.590757,23.808251;119.268804,23.41408;119.422881,23.163397;119.758632,23.201668;119.726437,23.588002;119.70804,23.763808;119.645949,23.797671","121.642055,25.312114;121.752439,25.169879;121.945611,25.186621;121.991604,25.052618;122.055995,24.985561;121.872022,24.834547;121.88122,24.624496;121.899617,24.498294;121.798432,24.270807;121.697247,24.135805;121.642055,23.958396;121.504076,23.288798;121.439685,23.178281;121.310904,22.991042;121.255712,22.812068;121.053342,22.624316;120.933759,22.290847;121.016547,21.990891;120.86017,21.887901;120.648601,21.947988;120.584211,22.376429;120.289854,22.51325;120.11508,22.939931;120.013895,23.118734;119.9771,23.543483;120.372642,24.11892;120.694595,24.641313;121.126931,25.119638;121.559268,25.337197;121.623658,25.345557","120.38414,22.372151;120.423234,22.355038;120.372642,22.307967;120.347346,22.329365;120.351945,22.355038;120.356544,22.363595","121.506375,22.696888;121.552369,22.660607;121.517874,22.611506;121.469581,22.64353;121.464981,22.690486;121.492577,22.701155","121.589163,22.100236;121.600661,22.050934;121.623658,22.012338;121.637456,21.939406;121.596062,21.93726;121.550069,22.014483;121.499476,22.044502;121.501776,22.102379;121.54087,22.102379","122.08819,25.668005;122.110037,25.488627;121.911116,25.435387;122.027249,25.658625;122.057144,25.669047","123.686455,25.955273;123.730149,25.909524;123.58527,25.699264;123.454189,25.743012;123.557674,25.817972;123.594468,25.84711","124.589072,25.924082;124.60172,25.894964;124.564926,25.902244;124.567226,25.929282;124.571825,25.930321","115.973388,21.36321;116.152762,21.298566;116.152762,21.164878;116.148163,21.039704;116.056176,21.000836;115.863004,21.035386;115.835409,21.143304;115.830809,21.26839;115.844607,21.358902;115.922796,21.36321","118.474702,24.527161;118.4862,24.509276;118.491949,24.487706;118.498848,24.46771;118.501148,24.448764;118.501148,24.435079;118.492524,24.422972;118.481026,24.411916;118.467228,24.406125;118.443082,24.39928;118.41721,24.386643;118.378116,24.379797;118.314301,24.369264;118.28728,24.371898;118.247035,24.378217;118.230363,24.377164;118.202192,24.376111;118.182645,24.375584;118.167122,24.375584;118.159073,24.378744;118.156199,24.389802;118.160223,24.397174;118.167697,24.407178;118.17862,24.424024;118.194718,24.434026;118.210241,24.444027;118.232088,24.457185;118.254509,24.472972;118.275206,24.488232;118.289579,24.497702;118.316025,24.506646;118.35052,24.521375;118.368918,24.529791;118.386165,24.537154;118.405137,24.540836;118.425834,24.543465;118.449981,24.541888;118.460904,24.53768"];if(jV==="台湾省"||jV==="台湾"){for(var jW=0;jW<6;jW++){jX.boundaries[jW]=T[jW]}jX.boundaries[6]=T[9];e&&e(jX)}if(jV==="钓鱼岛"){for(var jW=0;jW<1;jW++){jX.boundaries[jW]=T[6]}e&&e(jX)}if(jV==="赤尾屿"){for(var jW=0;jW<1;jW++){jX.boundaries[jW]=T[7]}e&&e(jX)}jE.request(function(i){if((i&&i.content&&i.content.uid)||jV){var jZ=(i.content&&i.content.uid)?i.content.uid:"";jE.request(function(kf){if(kf&&kf.content&&kf.content["geo"]){var j4=bF.parseGeo(kf.content["geo"],false);if(j4.geo&&j4.geo.length&&j4.geo.length>0){var kk=j4.geo.length;for(km=0;km<kk;km++){var j3=j4.geo[km];if(j3&&j3.length&&j3.length>0){var kc=j3.length-1;var kj=[];var kb=false;var ki=0;var kh=0;for(var kl=0;kl<kc;kl+=2){var j9=j3[kl];var j6=j3[kl+1];var kg=new cu(j9,j6);kg=iU.convertMC2LL(kg);if(kl<kc-3){var j1=j3[kl+2];var j0=j3[kl+3];var ke=new cu(j1,j0);ke=iU.convertMC2LL(ke)}var kd=function(kq,kp){if(kq.lng>109&&kq.lng<113&&kq.lat>15&&kq.lat<19){if((kq.lng-kp.lng)>1&&(kq.lat-kp.lat<-1)){kb=true;ki=kl/2}if((kq.lng-kp.lng)<-1&&(kq.lat-kp.lat>1)){kb=true;kh=kl/2}}};if(jV.indexOf("全国")>-1||jV.indexOf("中国")>-1||jV.indexOf("中华人民共和国")>-1){var j8=function(kp){return((kp.lng>=117.546263&&kp.lng<=118.711042)&&(kp.lat>=38.697981&&kp.lat<=38.91302))};var j2=function(kp){return((kp.lng>=113.576516&&kp.lng<=113.638822)&&(kp.lat>=22.146067&&kp.lat<=22.156645))};if(j8(kg)||j2(kg)){kj.length=0;break}kd(kg,ke)}if(jV.indexOf("海南")>-1){kd(kg,ke)}kj.push(kg.lng+", "+kg.lat)}if(kb===true){if(ki>kh){var kn=ki;ki=kh;kh=kn}var ka=kj;var j7=kj.splice(ki+1);var j5=j7.splice(kh-ki);ka=ka.concat(j5);jX.boundaries.push(ka.join(";"));jX.boundaries.push(j7.join(";"));kb=false;continue}if(kj.length!==0){jX.boundaries.push(kj.join(";"))}}}}}var ko=jX.boundaries.length;if((jV==="中国"||jV==="全国"||jV==="中华人民共和国")&&jX.boundaries.length>0){for(var km=0;km<T.length-1;km++){jX.boundaries[ko+km]=T[km]}}e&&e(jX)},{qt:iM,num:1000,l:10,uid:jZ,adname:jV})}else{e&&e(jX)}},{qt:I,wd:jV})},parsebdStr:function(j1,j5){var jX={};jX.boundaries=[];var jV=bF.parseGeo(j1,false);if(jV.geo&&jV.geo.length&&jV.geo.length>0){var e=jV.geo.length;for(var jY=0;jY<e;jY++){var T=jV.geo[jY];if(T&&T.length&&T.length>0){var j3=T.length-1;var j1=[];for(var jW=0;jW<j3;jW+=2){var j4=T[jW];var j2=T[jW+1];var j7=new cu(j4,j2);j7=iU.convertMC2LL(j7);if(jW<j3-3){var j0=T[jW+2];var jZ=T[jW+3];var j6=new cu(j0,jZ);j6=iU.convertMC2LL(j6)}j1.push(j7.lng+", "+j7.lat)}if(j1.length!==0){jX.boundaries.push(j1.join(";"))}}}}j5&&j5(jX)},_parseGeoSpecial:function(jY){var j1=this;var jV=[];if(typeof(jY)!="string"){return jV}var T=jY.split("|");var j5=T[2];var jX=j5.split(";");for(var jZ=0;jZ<jX.length-1;jZ++){var j4=jX[jZ];var j0=[];var e=j4.split(",");for(var jW=0;jW<e.length;jW+=2){var j3=e[jW];var j2=e[jW+1];var j6=new cu(j3,j2);j6=iU.convertMC2LL(j6);j0.push(j6.lng+", "+j6.lat)}jV.push(j0.join(";"))}return jV}});eP.extend(e5.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var jV=this._queryList[T];this[jV.method].apply(this,jV.arguments)}delete this._queryList},get:function(i){var e=this;jE.request(function(jX){if(jX&&jX.content&&jX.status===0){var jZ=jX.content;var j0=e._opts.renderOptions.map;var j1=j0?j0.getZoom():5;var jW=jZ.address_detail["city"];var jY=jZ.address_detail["city_code"];var jV=new cu(jZ.point.x,jZ.point.y);j1=bF.getBestLevel(j1,j0);if(j0){j0.centerAndZoom(jV,j1)}var T={center:jV,level:j1,name:jW,code:jY};i&&i(T)}else{i&&i({})}},{qt:ia})}});');
